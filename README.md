# LibRESTApi
## Задание
Необходимо разработать REST API для системы управления библиотекой.

### Требования:
1. API должно поддерживать следующие операции:
- Получение списка книг
- Создание новой книги
- Получение конкретной книги по ее ID
- Обновление информации о книге
- Удаление книги
- Бронирование книги
- Возврат бронированной книги
2. Для хранения данных использовать базу данных MySql.
3. Администраторы должны иметь доступ ко всем операциям, а обычные пользователи - только к операциям с бронированием и возвратом книги.
4. API должно возвращать данные в формате JSON.


---

## Используемые инструменты
- Фреймворк: Laravel 10.48.27
- СУБД: MySQL
- Контейнеризатор приложений: Docker
- Документация API: Swagger

---

## Структура данных
В базе данных используется 2 таблицы:
- books — книги
- users — пользователи, роли и токены пользователей


Таблица books содержит поле access (0 — книга не доступна, 1 — книга доступна). Книги с состоянием access 0 нельзя забронировать.

---

## API
### Категории продуктов:
- POST /api/v1/book — Создание книги.
- GET /api/v1/book — Список книг.
- GET /api/v1/book/{book} — Получение книги по ID.
- PATCH /api/v1/book/{book} — Изменение книги по ID .
- DELETE /api/v1/book/{book} — Удаление книги по ID.
- POST /api/v1/book/{book}/reserve — Бронирование книги.
- POST /api/v1/book/{book}/unreserve — Возврат книги.

Пользователи с ролью admin имеют доступ ко всем методам, пользователи с ролью user имеют доступ только к бронированию и возврату книги.

---

 ### Запуск API:
1. Сохранить и распаковать архив с файлами.
2. Запустить Docker и ввести команду docker-compose up -d для подключения ПО.
3. Для добавления данных в СУБД ввести команду php artisan migrate.
4. Использовать инструменты такие как Swagger(api/documentation#/Api) или Postman для тестирования API.
5. Для авторизации указать токен для соответствующей роли.
6. Для закрытия проекта и отключения docker использовать команду docker-compose down.

---

